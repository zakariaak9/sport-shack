"use strict";(globalThis.webpackChunkgoogle_listings_and_ads=globalThis.webpackChunkgoogle_listings_and_ads||[]).push([[735],{3919:(e,t,n)=>{n.d(t,{NS:()=>u,RO:()=>d,Me:()=>m,Ay:()=>_});var o=n(1609),a=n(7723),s=n(6427),i=n(6087),l=n(9457),c=n(7892),r=n(7792),g=n(8582);const d="all-accounts",u="ads-account",m="api-data-fetch-feature",p={[d]:{title:(0,a.__)("Disconnect all accounts","google-listings-and-ads"),confirmButton:(0,a.__)("Disconnect all accounts","google-listings-and-ads"),confirmation:(0,a.__)("Yes, I want to disconnect all my accounts.","google-listings-and-ads"),contents:[(0,a.__)("I understand that I am disconnecting any WordPress.com account, Google account, Google Merchant Center account and Google Ads account connected to this extension.","google-listings-and-ads"),(0,a.__)("Any active product listings will continue to show on Google. They can be managed, edited, or deleted manually from Google Merchant Center (merchants.google.com).","google-listings-and-ads"),(0,a.__)("Any ongoing campaigns will continue to run. They can be managed, edited, or deleted manually from Google Ads (ads.google.com).","google-listings-and-ads")]},[u]:{title:(0,a.__)("Disconnect Google Ads account","google-listings-and-ads"),confirmButton:(0,a.__)("Disconnect Google Ads Account","google-listings-and-ads"),confirmation:(0,a.__)("Yes, I want to disconnect my Google Ads account.","google-listings-and-ads"),contents:[(0,a.__)("I understand that I am disconnecting my Google Ads account from this WooCommerce extension.","google-listings-and-ads"),(0,a.__)("Any ongoing campaigns will continue to run. They can be managed, edited, or deleted manually from Google Ads (ads.google.com).","google-listings-and-ads"),(0,a.__)("Some configurations for Google Ads created through WooCommerce may be lost. This cannot be undone.","google-listings-and-ads")]},[m]:{title:(0,a.__)("Disable data fetching","google-listings-and-ads"),confirmButton:(0,a.__)("Disable data fetching","google-listings-and-ads"),confirmation:(0,a.__)("Yes, I want to disable the data fetching feature.","google-listings-and-ads"),contents:[(0,a.__)("I understand that I am disabling the data fetching feature from this WooCommerce extension.","google-listings-and-ads"),(0,a.__)("Any ongoing campaigns and configuration will continue to run. They will be pushed to Google as in the previous versions of this extension.","google-listings-and-ads")]}};function h({disconnectTarget:e,onRequestClose:t,onDisconnected:n,disconnectAction:u}){const[m,h]=(0,i.useState)(!1),[_,A]=(0,i.useState)(!1),f=(0,g.j)(),{title:y,confirmButton:C,confirmation:b,contents:E}=p[e],S=()=>{_||t()};return(0,o.createElement)(l.A,{className:"gla-disconnect-accounts-modal",title:(0,o.createElement)(o.Fragment,null,(0,o.createElement)(r.A,{size:20}),y),isDismissible:!_,buttons:[(0,o.createElement)(c.A,{key:"1",isSecondary:!0,disabled:_,onClick:S},(0,a.__)("Never mind","google-listings-and-ads")),(0,o.createElement)(c.A,{key:"2",isPrimary:!0,isDestructive:!0,loading:_,disabled:!m,onClick:()=>{let o=e===d?f.disconnectAllAccounts:f.disconnectGoogleAdsAccount;u&&(o=u),A(!0),o().then((()=>{n(),t()})).catch((()=>{A(!1)}))}},C)],onRequestClose:S},E.map(((e,t)=>(0,o.createElement)("p",{key:t},e))),(0,o.createElement)(s.CheckboxControl,{label:b,checked:m,disabled:_,onChange:h}))}function _(e){return(0,o.createElement)(h,{...e})}},7048:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ye});var o=n(1609),a=n(6474),s=n(7723),i=n(6476),l=n(7539),c=n(7980),r=n(6473);const g=()=>(0,o.createElement)(l.A,{title:(0,s.__)("Get started with Google for WooCommerce","google-listings-and-ads"),helpButton:(0,o.createElement)(c.A,{eventContext:"setup-mc"}),backHref:(0,i.getNewPath)({},"/google/start"),onBackButtonClick:()=>{(0,r.ce)("gla_setup_mc",{triggered_by:"back-button",action:"leave"})}});var d=n(3741),u=n(8846),m=n(6087),p=n(8582),h=n(7541),_=n(6520),A=n(8859),f=n(7240),y=n(6453);var C=n(5847),b=n(7333),E=n(6523),S=n(3241),k=n(5455),w=n(5807),v=n(5640),G=n(7401),I=n(8e3),T=n(7916),P=n(7892),R=n(9370),x=n(3164),F=n(9826),N=n(3704),M=n(6575),q=n(1177),D=n(850),W=n(4790),B=n(1274),O=n(9452);const V=[{trackId:"why-do-i-need-a-wp-account",question:(0,s.__)("Why do I need a WordPress.com account?","google-listings-and-ads"),answer:(0,s.__)("We use a WordPress.com account to connect your site to the WooCommerce and Google servers. It ensures that requests (e.g. product feed, clicks, sales, etc) from your site are securely and correctly attributed to your store. It enables a connection to your self-hosted site, and provides a common authentication interface across disparate server configurations and architectures.","google-listings-and-ads")},{trackId:"why-do-i-need-a-google-mc-account",question:(0,s.__)("Why do I need a Google Merchant Center account?","google-listings-and-ads"),answer:(0,o.createElement)(o.Fragment,null,(0,o.createElement)("p",null,(0,s.__)("Google Merchant Center helps you sync your store and product data with Google and makes the information available for both free listings on the Shopping tab and Google Shopping Ads. That means everything about your stores and products is available to shoppers when they search on a Google property.","google-listings-and-ads")),(0,o.createElement)("p",null,(0,m.createInterpolateElement)((0,s.__)("If you create a new Merchant Center account through this application, it will be associated with Google’s Comparison Shopping Service (Google Shopping) by default. You can change the CSS associated with your account at any time. <link>Please find more information here</link>.","google-listings-and-ads"),{link:(0,o.createElement)(q.A,{context:"faqs",linkId:"find-a-partner",href:"https://comparisonshoppingpartners.withgoogle.com/find_a_partner/"})})))}],j=()=>(0,o.createElement)(O.A,{trackName:"gla_faq",context:"setup-mc-accounts",faqItems:V});var Y=n(1378),H=n(1351),z=n(1456);const L=()=>(0,o.createElement)(o.Fragment,null,(0,o.createElement)("p",null,(0,m.createInterpolateElement)((0,s.__)("If you are in the European Economic Area or Switzerland, your Merchant Center account must be associated with a Comparison Shopping Service (CSS). Please find more information at <link>Google Merchant Center Help</link> website.","google-listings-and-ads"),{link:(0,o.createElement)(q.A,{context:"setup-mc-accounts",linkId:"comparison-shopping-services",href:"https://support.google.com/merchants/topic/9080307"})})),(0,o.createElement)("p",null,(0,m.createInterpolateElement)((0,s.__)("If you create a new Merchant Center account through this application, it will be associated with Google Shopping, Google’s CSS, by default. You can change the CSS associated with your account at any time. Please find more information about our CSS Partners <link>here</link>.","google-listings-and-ads"),{link:(0,o.createElement)(q.A,{context:"setup-mc-accounts",linkId:"comparison-shopping-partners-find-a-partner",href:"https://comparisonshoppingpartners.withgoogle.com/find_a_partner/"})})),(0,o.createElement)("p",null,(0,s.__)("Once you have set up your Merchant Center account you can use our onboarding tool regardless of which CSS you use.","google-listings-and-ads"))),U=e=>{const{onContinue:t=()=>{}}=e,{jetpack:n}=(0,G.A)(),{google:a,scope:i}=(0,I.A)(),{googleMCAccount:l,isPreconditionReady:c,isReady:r}=(0,T.A)(),{hasFinishedResolution:g}=(0,Y.A)(),u=(0,z.A)(),h=(0,H.A)(),{updateGoogleMCContactInformation:_}=(0,p.j)(),[A,f]=(0,m.useState)(!1),y=!n,C="yes"===n?.active,b=C&&!a,E="yes"===a?.active&&i.gmcRequired&&!l;if(y||b||E)return(0,o.createElement)(d.A,null);const S=!(g&&h&&r&&u);return(0,o.createElement)(R.A,null,(0,o.createElement)(x.A,{title:(0,s.__)("Set up your accounts","google-listings-and-ads"),description:(0,s.__)("Connect the accounts required to use Google for WooCommerce.","google-listings-and-ads")}),(0,o.createElement)(M.A,{className:"gla-wp-google-accounts-section",title:(0,s.__)("Connect accounts","google-listings-and-ads"),description:(0,s.__)("The following accounts are required to use the Google for WooCommerce plugin.","google-listings-and-ads")},(0,o.createElement)(D.A,{size:"large"},!C&&(0,o.createElement)(W.Ay,{jetpack:n}),(0,o.createElement)(B.A,{disabled:!C}))),(0,o.createElement)(F.A,null,(0,o.createElement)(N.A,null,(0,o.createElement)(P.A,{isPrimary:!0,disabled:S,loading:A,text:(0,s.__)("Continue","google-listings-and-ads"),onClick:()=>{f(!0),_().then((()=>t())).catch((()=>f(!1)))}}))),(0,o.createElement)(M.A,{className:"gla-google-mc-disclaimer-section",description:(0,o.createElement)(L,null),disabledLeft:!c},(0,o.createElement)(j,null)))};var J=n(6237),$=n(1455),K=n.n($),Q=n(8468),X=n(1968),Z=n(8519),ee=n(1203),te=n(8473),ne=n(6893),oe=n(3666),ae=n(3905);const se="complete-ads",ie="skip-ads";var le=n(9457);const ce=({onRequestClose:e,onSkipCreatePaidAds:t})=>(0,o.createElement)(le.A,{title:(0,s.__)("Skip setting up ads?","google-listings-and-ads"),buttons:[(0,o.createElement)(P.A,{key:"cancel",isSecondary:!0,onClick:e},(0,s.__)("Cancel","google-listings-and-ads")),(0,o.createElement)(P.A,{key:"complete-setup",onClick:t,isPrimary:!0},(0,s.__)("Complete setup without setting up ads","google-listings-and-ads"))],onRequestClose:e},(0,o.createElement)("p",null,(0,s.__)("Enabling Performance Max is highly recommended to drive more sales and reach new audiences across Google channels like Search, YouTube and Discover.","google-listings-and-ads")),(0,o.createElement)("p",null,(0,s.__)("Performance Max uses the best of Google’s AI to show the most impactful ads for your products at the right time and place. Google will use your product data to create ads for this campaign.","google-listings-and-ads")),(0,o.createElement)("p",null,(0,o.createElement)(q.A,{href:"https://support.google.com/google-ads/answer/10724817",context:"skip-paid-ads-modal",linkId:"paid-ads-with-performance-max-campaigns-learn-more"},(0,s.__)("Learn more about Performance Max.","google-listings-and-ads"))));function re({isValidForm:e,onSkipCreatePaidAds:t=Q.noop,loading:n,disabled:a}){const[i,l]=(0,m.useState)(!1),{googleAdsAccount:c}=(0,Y.A)(),{billingStatus:g}=(0,ne.A)();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(P.A,{isTertiary:!0,text:(0,s.__)("Skip ads creation","google-listings-and-ads"),loading:n,disabled:a,onClick:()=>{l(!0)}}),i&&(0,o.createElement)(ce,{onRequestClose:()=>{l(!1)},onSkipCreatePaidAds:()=>{l(!1);const n={google_ads_account_status:c?.status,billing_method_status:g?.status||"unknown",campaign_form_validation:e?"valid":"invalid"};(0,r.ce)("gla_onboarding_complete_button_click",n),t()}}))}const ge="gla-onboarding-paid-ads",{sessionStorage:de}=window,ue={setCampaign({amount:e}){const t=JSON.stringify({amount:e});de.setItem(ge,t)},getCampaign(){const e=de.getItem(ge);return null===e?null:JSON.parse(e)}};var me=n(4679);function pe(){const e=(0,X.A)(),[t,n]=(0,m.useState)(null),{createNotice:a}=(0,v.A)(),{data:i}=(0,C.A)(),{highestDailyBudget:l,hasFinishedResolution:c}=(0,me.A)(i),[r]=(0,Z.A)(),{billingStatus:g}=(0,ne.A)(),u=g?.status===ae.CX.APPROVED,p=async(t=Q.noop)=>{try{await t(),await K()({path:`${_.RV}/mc/settings/sync`,method:"POST"})}catch(e){n(null),a("error",(0,s.__)("Unable to complete your setup.","google-listings-and-ads"))}const o={guide:ae.K4.SUBMISSION_SUCCESS};window.location.href=e+(0,oe.hP)(o)},h=async()=>{n(ie),await p()},A={amount:l,...ue.getCampaign()};return c&&i?(0,o.createElement)(te.A,{initialCampaign:A,recommendedDailyBudget:l,onChange:(e,t)=>{t.amount>=l&&ue.setCampaign(t)}},(0,o.createElement)(ee.A,{headerTitle:(0,s.__)("Create a campaign to advertise your products","google-listings-and-ads"),continueButton:e=>{const{isValidForm:a,values:l}=e,{amount:c}=l,g=t===ie||!a||!u;return(0,o.createElement)(P.A,{isPrimary:!0,disabled:g,onClick:async()=>{n(se);const e=r.bind(null,c,i);await p(e)},loading:t===se,text:(0,s.__)("Complete setup","google-listings-and-ads"),eventName:"gla_onboarding_complete_with_paid_ads_button_click",eventProps:{budget:c,audiences:i?.join(",")}})},skipButton:e=>{const{isValidForm:n}=e;return(0,o.createElement)(re,{isValidForm:n,onSkipCreatePaidAds:h,disabled:t===se,loading:t===ie})},context:"setup-mc"})):(0,o.createElement)(d.A,null)}const he={accounts:"1",product_listings:"2",paid_ads:"3"},_e=({savedStep:e})=>{const[t,n]=(0,m.useState)(e),{settings:a}=(0,b.A)(),{data:i}=(()=>{const{hasFinishedResolution:e}=(0,f.A)(),{hasFinishedResolution:t,data:n}=(0,A.A)(),{loading:o,data:a}=(0,y.A)({path:`${_.RV}/mc/target_audience/suggestions`});return{loading:!e||!t||o,data:t&&null===n?.location&&null===n?.countries?a:n}})(),{targetAudience:l,getFinalCountries:c}=(0,C.A)(),{hasFinishedResolution:g,data:d}=(0,E.A)(),{hasFinishedResolution:G,data:I}=(0,S.A)(),{saveTargetAudience:T,saveSettings:P}=(0,p.j)(),{saveShippingRates:R}=(0,k.A)(),{saveShippingTimes:x}=(0,w.A)(),{createNotice:F}=(0,v.A)();(0,h.A)(r.T1,{context:r.GH,step:t}),(0,m.useEffect)((()=>{null===l?.location&&i?.location&&T(i)}),[l,i,T]),(0,m.useEffect)((()=>{null===a?.shipping_rate&&P({...a,shipping_rate:"flat",shipping_time:"flat"})}),[a,P]);const N=e=>{const o=t;(0,r.dQ)("gla_setup_mc",o,e),n(e)},M=e=>{Number(e)<Number(t)&&((0,r.T)("gla_setup_mc",e),n(e))};function q(e,t){this(t).catch((()=>F("error",e)))}const D=g?d:null,W=G?I:null,B=l?.location?l:null,O=a?.shipping_rate?a:null;return(0,o.createElement)(u.Stepper,{className:"gla-setup-stepper",currentStep:t,steps:[{key:he.accounts,label:(0,s.__)("Set up your accounts","google-listings-and-ads"),content:(0,o.createElement)(U,{onContinue:()=>{N(he.product_listings)}}),onClick:M},{key:he.product_listings,label:(0,s.__)("Configure product listings","google-listings-and-ads"),content:(0,o.createElement)(J.A,{headerTitle:(0,s.__)("Configure your product listings","google-listings-and-ads"),targetAudience:B,settings:O,shippingRates:D,hideTaxRates:!0,shippingTimes:W,resolveFinalCountries:c,onTargetAudienceChange:q.bind(T,(0,s.__)("There was an error saving audience.","google-listings-and-ads")),onSettingsChange:q.bind(P,(0,s.__)("There was an error saving settings.","google-listings-and-ads")),onShippingRatesChange:q.bind(R,(0,s.__)("There was an error saving shipping rates.","google-listings-and-ads")),onShippingTimesChange:q.bind(x,(0,s.__)("There was an error saving shipping times.","google-listings-and-ads")),onContinue:()=>{N(he.paid_ads)},submitLabel:(0,s.__)("Continue","google-listings-and-ads")}),onClick:M},{key:he.paid_ads,label:(0,s.__)("Create a campaign","google-listings-and-ads"),content:(0,o.createElement)(pe,null),onClick:M}]})};var Ae=n(3027);const fe=()=>{const{hasFinishedResolution:e,data:t}=(0,Ae.A)();if(!e&&!t)return(0,o.createElement)(d.A,null);if(e&&!t)return null;const{status:n,step:a}=t;return"complete"===n?((0,i.getHistory)().replace((0,i.getNewPath)({},"/google/dashboard")),null):(0,o.createElement)(_e,{savedStep:he[a]})},ye=()=>((0,a.A)("full-page"),(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,null),(0,o.createElement)(fe,null)))}}]);